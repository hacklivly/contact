<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Form</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
    }

    body {
      min-height: 100vh;
      background: #f5f5f5;
    }

    /* Header */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(4px);
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      padding: 1rem 1rem;
    }

    .header-container {
      max-width: 64rem;
      margin: 0 auto;
      display: flex;
      align-items: center;
    }

    .back-home-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: linear-gradient(90deg, #ffa726, #ffca28);
      color: #fff;
      font-weight: 600;
      font-size: 1rem;
      border-radius: 0.5rem;
      text-decoration: none;
      transition: all 0.3s;
    }

    .back-home-btn:hover {
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
      transform: scale(1.05);
    }

    .back-home-btn i {
      width: 1.25rem;
      height: 1.25rem;
    }

    /* Hero Section */
    .hero-section {
      padding: 8rem 1rem 6rem;
      background: linear-gradient(135deg, #f5f5dc 0%, #e5e5e5 50%, #ffffff 100%);
      position: relative;
      overflow: hidden;
      text-align: center;
    }

    .hero-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255, 167, 38, 0.05) 0%, transparent 50%, rgba(38, 166, 154, 0.05) 100%);
    }

    .hero-content {
      max-width: 64rem;
      margin: 0 auto;
      position: relative;
      z-index: 10;
    }

    .icon-container {
      display: flex;
      justify-content: center;
      margin-bottom: 2rem;
    }

    .icon-wrapper {
      position: relative;
    }

    .icon-glow {
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #ffa726, #26a69a);
      border-radius: 9999px;
      filter: blur(20px);
      opacity: 0.3;
      animation: pulse 4s infinite;
    }

    .icon-circle {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(4px);
      padding: 1.5rem;
      border-radius: 9999px;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(255, 167, 38, 0.2);
    }

    .icon-circle i {
      color: #ffa726;
      width: 3rem;
      height: 3rem;
      transition: transform 0.5s;
    }

    .icon-wrapper:hover i {
      transform: rotate(12deg);
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.5; }
    }

    .hero-content h1 {
      font-size: 3.75rem;
      font-weight: 900;
      color: #333;
      margin-bottom: 2rem;
      letter-spacing: -0.025em;
    }

    .hero-content h1 span {
      background: linear-gradient(90deg, #ffa726, #26a69a);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-content p {
      font-size: 1.25rem;
      color: rgba(51, 51, 51, 0.8);
      line-height: 1.75;
    }

    /* Form Section */
    .form-section {
      padding: 6rem 1rem;
      background: #ffffff;
    }

    .form-container {
      max-width: 64rem;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 4rem;
    }

    .form-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(4px);
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(229, 229, 229, 0.2);
    }

    .form-card h2 {
      font-size: 1.875rem;
      font-weight: 900;
      color: #333;
      margin-bottom: 2rem;
    }

    .status-message {
      padding: 1rem;
      border-radius: 0.75rem;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 500;
      opacity: 0;
      animation: fadeIn 0.5s forwards;
    }

    .status-message.success {
      background: #10b981;
      color: #ffffff;
    }

    .status-message.error {
      background: #ef4444;
      color: #ffffff;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .form-group label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #333;
      margin-bottom: 0.5rem;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 0.75rem;
      border: 1px solid #e5e5e5;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #ffa726;
      outline: none;
      box-shadow: 0 0 0 2px rgba(255, 167, 38, 0.2);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .submit-btn {
      width: 100%;
      padding: 1rem 2rem;
      background: linear-gradient(90deg, #ffa726, #ffca28);
      color: #fff;
      font-size: 1.125rem;
      font-weight: 700;
      border: none;
      border-radius: 0.75rem;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      cursor: pointer;
      transition: all 0.3s;
    }

    .submit-btn:hover:not(:disabled) {
      box-shadow: 0 15px 20px rgba(0, 0, 0, 0.15);
      transform: scale(1.05);
    }

    .submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .honeypot {
      display: none;
    }

    @media (min-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr 1fr;
      }

      .hero-content h1 {
        font-size: 4.5rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <a href="/index.html" class="back-home-btn">
        <i data-lucide="arrow-left"></i>
        Back to Home
      </a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="icon-container">
        <div class="icon-wrapper">
          <div class="icon-glow"></div>
          <div class="icon-circle">
            <i data-lucide="wine"></i>
          </div>
        </div>
      </div>
      <h1>Get in <span>Touch</span></h1>
      <p>Ready to place your order? We're here to serve you with complete discretion.</p>
    </div>
  </section>

  <!-- Form Section -->
  <section class="form-section">
    <div class="form-container">
      <div class="form-card">
        <h2>Place Your Order</h2>
        <div id="status-message" class="status-message" style="display: none;"></div>
        <form id="contact-form" action="https://formspree.io/f/xvgrzllp" method="POST" data-formspree>
          <div class="form-grid">
            <div class="form-group">
              <label for="name">Full Name</label>
              <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="phone">Phone Number</label>
              <input type="tel" id="phone" name="phone" required>
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="_replyto" required>
          </div>
          <div class="form-group">
            <label for="orderType">Order Type</label>
            <select id="orderType" name="orderType">
              <option value="beverages">Alcoholic Beverages</option>
              <option value="cigarettes">Premium Cigarettes</option>
              <option value="both">Both</option>
            </select>
          </div>
          <div class="form-group">
            <label for="message">Order Details & Special Instructions</label>
            <textarea id="message" name="message" placeholder="Tell us what you need and any special delivery instructions..." required></textarea>
          </div>
          <input type="hidden" name="_subject" value="New Order Request">
          <input type="text" name="_gotcha" class="honeypot">
          <button type="submit" class="submit-btn" id="submit-btn">
            <i data-lucide="send" style="width: 1.25rem; height: 1.25rem;"></i>
            Submit Order Request
          </button>
        </form>
      </div>
    </div>
  </section>

  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const statusMessage = document.getElementById('status-message');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<i data-lucide="send" style="width: 1.25rem; height: 1.25rem;"></i> Sending...';
      statusMessage.style.display = 'none';
      statusMessage.className = 'status-message';

      const formData = new FormData(form);
      const actionUrl = form.action;

      if (!actionUrl.includes('formspree.io/f/') || actionUrl.includes('YOUR_FORM_ID')) {
        statusMessage.innerHTML = '<i data-lucide="alert-circle" style="width: 1.25rem; height: 1.25rem;"></i> Invalid Formspree endpoint. Please check the form configuration.';
        statusMessage.className = 'status-message error';
        statusMessage.style.display = 'flex';
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<i data-lucide="send" style="width: 1.25rem; height: 1.25rem;"></i> Submit Order Request';
        lucide.createIcons();
        console.error('Invalid Formspree endpoint:', actionUrl);
        return;
      }

      try {
        console.log('Submitting form to Formspree with data:', Object.fromEntries(formData));
        const response = await fetch(actionUrl, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });

        console.log('Formspree response:', response);
        const responseData = await response.json();

        if (response.ok) {
          statusMessage.innerHTML = '<i data-lucide="check-circle" style="width: 1.25rem; height: 1.25rem;"></i> Order request sent successfully!';
          statusMessage.className = 'status-message success';
          statusMessage.style.display = 'flex';
          form.reset();
          setTimeout(() => {
            statusMessage.style.display = 'none';
          }, 5000);
        } else {
          const errorMessage = responseData.error || 'Unknown error occurred';
          throw new Error(`Formspree submission failed: ${errorMessage}`);
        }
      } catch (error) {
        let errorText = 'Failed to send order request. Please try again or contact support.';
        if (error.message.includes('422')) {
          errorText = 'Email address not verified. Please check your inbox for a Formspree verification email.';
        } else if (error.message.includes('429')) {
          errorText = 'Submission limit reached. Please try again later or contact support.';
        }
        statusMessage.innerHTML = `<i data-lucide="alert-circle" style="width: 1.25rem; height: 1.25rem;"></i> ${errorText}`;
        statusMessage.className = 'status-message error';
        statusMessage.style.display = 'flex';
        console.error('Formspree error:', error);
        // Fallback to default Formspree submission
        console.log('Attempting fallback submission to Formspree');
        form.submit();
      } finally {
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<i data-lucide="send" style="width: 1.25rem; height: 1.25rem;"></i> Submit Order Request';
        lucide.createIcons();
      }
    });
  </script>
</body>
</html>
